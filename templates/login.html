<!-- templates/login.html -->
{% extends "base.html" %}
{% block content %}
<div class="login-container">
    <div class="love-bg-blur"></div>
    <div class="love-card">
        <!-- Decorative faded love effects -->
        <div class="love-bg-effect">
            <span class="love-bg-emoji" style="top: 10%; left: 8%; font-size: 2.8rem;">ðŸ’‹</span>
            <span class="love-bg-emoji" style="top: 18%; right: 10%; font-size: 2.2rem;">ðŸ’–</span>
            <span class="love-bg-emoji" style="bottom: 12%; left: 12%; font-size: 2.5rem;">ðŸ’˜</span>
            <span class="love-bg-emoji" style="bottom: 18%; right: 14%; font-size: 2.7rem;">ðŸ’•</span>
            <span class="love-bg-emoji" style="top: 50%; left: 2%; font-size: 2rem;">ðŸ’ž</span>
            <span class="love-bg-emoji" style="top: 60%; right: 4%; font-size: 2.1rem;">ðŸ’—</span>
        </div>
        <div class="card-front card-section card-section-active">
            <h1>Where My Heart Finds Its Key</h1>
            <h2><i>â€¦in the gentle turn of love's locket, I open myself to you.</i></h2>
            <h2>Ade <span style="color: #e57373;">&#10084;</span> Mide</h2>
            <div class="key-heart-emoji" style="font-size: 7rem; text-align: center; margin: 30px 0;">
                ðŸ’˜
            </div>
            <p>I've made something special for youâ€”my heart, unlocked.</p>
            <button id="open-card">Open the Locket ðŸ’–</button>
        </div>
        <div class="card-inside card-section" style="display:none;">
            <h2>Will you help me make this moment perfect?</h2>
            <form action="{{ url_for('check_password') }}" method="post" style="width:100%;max-width:100%;">
                <label for="password" style="display:block;text-align:left;margin-bottom:6px;">Please enter the password:</label>
                <input type="password" id="password" name="password" placeholder="Password" required>
                <button type="submit" style="margin-top:10px;">Say Yes ðŸ’–</button>
            </form>
            <p class="hint" style="margin-top:10px;">Hint: You and I</p>
        </div>
    </div>
</div>

<script>
    // Reveal the password form only after clicking the button
    document.getElementById('open-card').addEventListener('click', function() {
        const front = document.querySelector('.card-front');
        const inside = document.querySelector('.card-inside');
        front.classList.remove('card-section-active');
        front.style.opacity = 0;
        setTimeout(() => {
            front.style.display = 'none';
            inside.style.display = 'flex';
            setTimeout(() => { inside.style.opacity = 1; }, 10);
        }, 350);
    });
    // Set up initial fade states
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelector('.card-front').style.opacity = 1;
        document.querySelector('.card-inside').style.opacity = 0;
    });
    function createConfetti() {
        for (let i = 0; i < 100; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.animationDelay = Math.random() * 5 + 's';
            confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            document.body.appendChild(confetti);
        }
    }
</script>
{% endblock %}